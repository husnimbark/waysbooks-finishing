{"ast":null,"code":"var _jsxFileName = \"/Users/husnimbark/Documents/Books/ways-books/client/src/components/modal/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport { useMutation } from \"react-query\";\nimport { Alert } from \"react-bootstrap\";\nimport { API } from \"../../config/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../context/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register(_ref) {\n  _s();\n\n  let {\n    show,\n    handleRegister,\n    handleClose,\n    switchLogin\n  } = _ref;\n  let history = useHistory();\n  let api = API();\n  const [state, dispatch] = useContext(UserContext);\n  const [message, setMessage] = useState(null);\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    name,\n    email,\n    password\n  } = form;\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = useMutation(async e => {\n    try {\n      e.preventDefault(); // Data body\n\n      const body = JSON.stringify(form); // Configuration Content-type\n\n      const config = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: body\n      }; // Insert data user to database\n\n      const response = await api.post(\"/register\", config);\n      console.log(response); // Notification\n\n      if (response.status == \"success\") {\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"py-1\",\n          children: \"Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert);\n        setForm({\n          name: \"\",\n          email: \"\",\n          password: \"\"\n        });\n      } else {\n        const alert = /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"py-1\",\n          children: \"Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this);\n\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"py-1\",\n        children: \"Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this);\n\n      setMessage(alert);\n      console.log(error);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    centered: true,\n    children: /*#__PURE__*/_jsxDEV(Modal.Body, {\n      className: \"text-dark\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-auth p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end fs-3 fa-2x\",\n            \"aria-hidden\": \"true\",\n            onClick: handleClose,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-white border-0 fw-bold\",\n              children: /*#__PURE__*/_jsxDEV(Icon.XLg, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), message && message, /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: e => handleSubmit.mutate(e),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 f-1 fs-2 fw-bold\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"name\",\n                placeholder: \"Full Name\",\n                name: \"name\",\n                value: name,\n                onChange: handleChange,\n                className: \"form-control py-2 mt-4 f-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: \"Email\",\n                name: \"email\",\n                value: email,\n                onChange: handleChange,\n                className: \"form-control py-2 mt-4 f-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Password\",\n                name: \"password\",\n                value: password,\n                onChange: handleChange,\n                className: \"form-control py-2 mt-4 f-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-grid gap-2 mt-5 pb-3\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn btn-dark f-2 fw-bold\",\n                type: \"submit\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"f-2\",\n              children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-white border-0 fw-bold\",\n                onClick: switchLogin,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"IUkuWqBonsH1gWT3mOKKHjVALtI=\", false, function () {\n  return [useHistory, useMutation];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","useContext","Modal","Button","Form","Icon","useMutation","Alert","API","useHistory","UserContext","Register","show","handleRegister","handleClose","switchLogin","history","api","state","dispatch","message","setMessage","form","setForm","name","email","password","handleChange","e","target","value","handleSubmit","preventDefault","body","JSON","stringify","config","method","headers","response","post","console","log","status","alert","error","mutate"],"sources":["/Users/husnimbark/Documents/Books/ways-books/client/src/components/modal/Register.js"],"sourcesContent":["import { useState , useContext} from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport { useMutation } from \"react-query\";\nimport { Alert } from \"react-bootstrap\";\nimport { API } from \"../../config/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../../context/UserContext\";\n\nfunction Register({ show, handleRegister, handleClose, switchLogin }) {\n \n  let history = useHistory();\n  let api = API();\n\n  const [state, dispatch] = useContext(UserContext);\n\n  const [message, setMessage] = useState(null);\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const { name, email, password } = form;\n\n  const handleChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = useMutation(async (e) => {\n    try {\n      e.preventDefault();\n\n      // Data body\n      const body = JSON.stringify(form);\n\n      // Configuration Content-type\n      const config = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: body,\n      };\n\n      // Insert data user to database\n      const response = await api.post(\"/register\", config);\n\n      console.log(response);\n\n      // Notification\n      if (response.status == \"success\") {\n        const alert = (\n          <Alert variant=\"success\" className=\"py-1\">\n            Success\n          </Alert>\n        );\n        setMessage(alert);\n        setForm({\n          name: \"\",\n          email: \"\",\n          password: \"\",\n        });\n      } else {\n        const alert = (\n          <Alert variant=\"danger\" className=\"py-1\">\n            Failed\n          </Alert>\n        );\n        setMessage(alert);\n      }\n    } catch (error) {\n      const alert = (\n        <Alert variant=\"danger\" className=\"py-1\">\n          Failed\n        </Alert>\n      );\n      setMessage(alert);\n      console.log(error);\n    }\n  });\n\n  return (\n    <Modal show={show} centered>\n      <Modal.Body className=\"text-dark\">\n        <div className=\" justify-content-center\">\n          <div className=\"card-auth p-4\">\n            <div\n        \n              className=\"d-flex justify-content-end fs-3 fa-2x\"\n              aria-hidden=\"true\"\n              onClick={handleClose}\n            >\n                  <button className=\"bg-white border-0 fw-bold\">\n              <Icon.XLg />\n              </button>\n            </div>\n            {message && message}\n            <Form onSubmit={(e) => handleSubmit.mutate(e)}>\n              <div className=\"mb-3 f-1 fs-2 fw-bold\">Register</div>\n              <div>\n                <input\n                  type=\"name\"\n                  placeholder=\"Full Name\"\n                  name=\"name\"\n                  value={name}\n                  onChange={handleChange}\n                  className=\"form-control py-2 mt-4 f-2\"\n                />\n              </div>\n              <div>\n                <input\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={handleChange}\n                  className=\"form-control py-2 mt-4 f-2\"\n                />\n              </div>\n              <div>\n                <input\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={handleChange}\n                  className=\"form-control py-2 mt-4 f-2\"\n                />\n              </div>\n            \n\n            <div className=\"d-grid gap-2 mt-5 pb-3\">\n              <Button\n                className=\"btn btn-dark f-2 fw-bold\"\n                type=\"submit\"\n              >\n                Register\n              </Button>\n            </div>\n            </Form>\n            <div>\n              <p className=\"f-2\">\n                Already have an account?\n                <button\n                  className=\"bg-white border-0 fw-bold\"\n                  onClick={switchLogin}\n                >\n                  Login\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}